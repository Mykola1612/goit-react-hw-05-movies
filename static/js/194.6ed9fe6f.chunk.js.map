{"version":3,"file":"static/js/194.6ed9fe6f.chunk.js","mappings":"8MAEAA,EAAAA,EAAAA,SAAAA,QAAA,gCACAA,EAAAA,EAAAA,SAAAA,OAAwB,CACtBC,SAAU,QACVC,KAAM,EACNC,QAAS,oCAEJ,IAAMC,EAAK,mCAAG,WAAMC,GAAN,kGAEML,EAAAA,EAAAA,IAAUK,GAAOA,EAAIC,SAAU,CACpDC,OAAQP,EAAAA,EAAAA,SAAAA,SAHO,uBAETQ,EAFS,EAETA,KAFS,kBAKVA,GALU,sCAOX,IAAIC,MAAM,iJAAV,MAPW,yDAAH,qD,8ICPlB,EAAgC,wC,kBCgGhC,EA3FyB,WAAO,IAAD,IA0BzBC,EAzBIC,GAAYC,EAAAA,EAAAA,MAAZD,QACR,GAA4BE,EAAAA,EAAAA,WAAS,GAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAAwBF,EAAAA,EAAAA,UAAS,MAAjC,eAAOG,EAAP,KAAaC,EAAb,KAEMC,GAAWC,EAAAA,EAAAA,MAEXC,GAAcC,EAAAA,EAAAA,QAAM,oBAACH,EAASI,aAAV,aAAC,EAAgBC,YAAjB,QAAyB,KAqBnD,IAnBAC,EAAAA,EAAAA,YAAU,WACR,GAAKb,EAAL,CAGA,IAAMc,EAAO,mCAAG,oGAEZV,GAAU,GAFE,UAGOX,EAAAA,EAAAA,GAAM,SAAD,OAAUO,IAHtB,OAGNH,EAHM,OAIZS,EAAQT,GAJI,yEAOZO,GAAU,GAPE,4EAAH,qDAUbU,GAXC,CAYF,GAAE,CAACd,IAIS,OAATK,EAAe,CACjB,IAAMU,EAA4B,GAApBV,EAAKW,aACnBjB,EAAYkB,KAAKC,MAAMH,EACxB,CAID,OACE,2BACGZ,IAAU,SAACgB,EAAA,EAAD,KACX,SAAC,KAAD,CAAMC,GAAIX,EAAYY,QAAtB,SAA+B,YACrB,OAAThB,IACC,gCACG,KACD,iBAAKiB,UAAWC,EAAhB,WACE,gBACEC,IACEnB,EAAKoB,YACD,CAAC,mCAAD,OAAoCpB,EAAKoB,cAZzD,gFAeUC,MAAO,IACPC,IAAI,YAEN,4BACE,0BACGtB,EAAKuB,MAAM,KAAGvB,EAAKwB,aAAaC,MAAM,EAAG,GAAG,QAE/C,yBAAG,eAAa/B,EAAU,OAEP,KAAlBM,EAAK0B,WACJ,iCACE,wBAAI,cACJ,uBAAI1B,EAAK0B,eAIb,wBAAI,YACJ,wBACG1B,EAAK2B,OAAOC,KAAI,SAAAC,GACf,OAAO,wBAAoBA,EAAMC,MAAjBD,EAAME,GACvB,aAIP,4BACE,wBAAI,4BACJ,2BACE,yBACE,SAAC,KAAD,CAAMhB,GAAG,OAAT,SAAgB,YAElB,yBACE,SAAC,KAAD,CAAMA,GAAG,UAAT,SAAmB,qBAIzB,SAAC,KAAD,SAKT,C","sources":["components/fetchRequest/fetchRequest.jsx","webpack://react-homework-template/./src/components/MovieDetailsPage/MovieDetailsPage.module.css?377f","pages/MovieDetailsPage.jsx"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = `https://api.themoviedb.org/3/`;\naxios.defaults.params = {\n  language: 'en-US',\n  page: 1,\n  api_key: 'c2d5ae1916124f8e18d2a212d8e4ab11',\n};\nexport const fetch = async url => {\n  try {\n    const { data } = await axios.get(url || url.pathname, {\n      params: axios.defaults.params,\n    });\n    return data;\n  } catch (error) {\n    throw new Error('Ошибка при загрузке данных:', error);\n  }\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"cardContainer\":\"MovieDetailsPage_cardContainer__JUmOY\"};","import { Loader } from 'components/Loader/Loader';\nimport { useEffect, useRef, useState } from 'react';\nimport { Link, Outlet, useLocation, useParams } from 'react-router-dom';\nimport styles from '../components/MovieDetailsPage/MovieDetailsPage.module.css';\nimport { fetch } from 'components/fetchRequest/fetchRequest';\n\nconst MoviesDetailsPge = () => {\n  const { movieId } = useParams();\n  const [loader, setLoader] = useState(false);\n  const [film, setFilm] = useState(null);\n\n  const location = useLocation();\n\n  const backLinkRef = useRef(location.state?.from ?? '/');\n\n  useEffect(() => {\n    if (!movieId) {\n      return;\n    }\n    const fetchFn = async () => {\n      try {\n        setLoader(true);\n        const data = await fetch(`movie/${movieId}`);\n        setFilm(data);\n      } catch (error) {\n      } finally {\n        setLoader(false);\n      }\n    };\n    fetchFn();\n  }, [movieId]);\n\n  let userScore;\n\n  if (film !== null) {\n    const score = film.vote_average * 10;\n    userScore = Math.round(score);\n  }\n\n  const defaultImg =\n    '<https://ireland.apollo.olxcdn.com/v1/files/0iq0gb9ppip8-UA/image;s=1000x700>';\n  return (\n    <div>\n      {loader && <Loader />}\n      <Link to={backLinkRef.current}>Go back</Link>\n      {film !== null && (\n        <>\n          {' '}\n          <div className={styles.cardContainer}>\n            <img\n              src={\n                film.poster_path\n                  ? [`https://image.tmdb.org/t/p/w500/${film.poster_path}`]\n                  : defaultImg\n              }\n              width={250}\n              alt=\"poster\"\n            />\n            <div>\n              <h2>\n                {film.title} ({film.release_date.slice(0, 4)})\n              </h2>\n              <p>User Score: {userScore}%</p>\n\n              {film.overview !== '' && (\n                <>\n                  <h3>Overview</h3>\n                  <p>{film.overview}</p>\n                </>\n              )}\n\n              <h3>Genres</h3>\n              <ul>\n                {film.genres.map(genre => {\n                  return <li key={genre.id}>{genre.name}</li>;\n                })}\n              </ul>\n            </div>\n          </div>\n          <div>\n            <h3>Additional information</h3>\n            <ul>\n              <li>\n                <Link to=\"cast\">Cast</Link>\n              </li>\n              <li>\n                <Link to=\"reviews\">Reviews</Link>\n              </li>\n            </ul>\n          </div>\n          <Outlet />\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default MoviesDetailsPge;\n"],"names":["axios","language","page","api_key","fetch","url","pathname","params","data","Error","userScore","movieId","useParams","useState","loader","setLoader","film","setFilm","location","useLocation","backLinkRef","useRef","state","from","useEffect","fetchFn","score","vote_average","Math","round","Loader","to","current","className","styles","src","poster_path","width","alt","title","release_date","slice","overview","genres","map","genre","name","id"],"sourceRoot":""}